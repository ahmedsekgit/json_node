/* JsonSearch - https://www.npmjs.com/package/search-array @license */
var JsonSearch=function(){"use strict";function i(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(e,r)||u(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=u(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw i}}}}function o(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(e,r,t){var n=function(e,r){for(var t=[],n=new RegExp("(?<n>-)?(?:(?<k>".concat(r.join("|"),"):)?(?<q>\"([^\"]*)\"|'([^']*)'|[^\\s\"']+)"),"ig");null!==(a=n.exec(e));){var i=a[5]||a[4]||a.groups.q,o=a.groups.k,a=void 0!==a.groups.n;t.push({q:i,key:o,isNegate:a})}return t}(e,r),i=n.filter(function(e){return void 0===e.key&&!e.isNegate}).map(function(e){return o(e.q)}).join("|"),e=n.filter(function(e){return void 0===e.key&&e.isNegate}).map(function(e){return o(e.q)}).join("|"),r=n.filter(function(e){return void 0!==e.key&&!e.isNegate}).map(function(e){return{key:t[e.key],regex:new RegExp(o(e.q),"i")}}),n=n.filter(function(e){return void 0!==e.key&&e.isNegate}).map(function(e){return{key:t[e.key],regex:new RegExp(o(e.q),"i")}});return{textSearch:i?new RegExp(i,"i"):void 0,textSearchNegate:e?new RegExp(e,"i"):void 0,keySearch:r,keySearchNegate:n}}function w(e,r){return Array.isArray(e)?void 0!==e.find(function(e){return r.test(e)}):r.test(e)}return function(){function t(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsonArray=e,this.indice=r.indice||{},this.jsonArray.length<=0||0<Object.keys(this.indice).length||this.setKeys(e[0])}var e,r,n;return e=t,(r=[{key:"setKeys",value:function(e){for(var r in e)"string"==typeof e[r]&&(this.indice[r]=r),Array.isArray(e[r])&&(this.indice[r]=r)}},{key:"filterFunc",value:function(e){var k=this;if(!e)return function(){return!0};var m=a(e,Object.keys(this.indice),this.indice);return function(e){for(var r,t=!0,n=!0,i=0,o=Object.entries(k.indice);i<o.length;i++){var a=e[S(o[i],2)[1]];if(!(n=m.textSearchNegate?n&&!w(a,m.textSearchNegate):n))return!1;m.textSearch&&(r=r||w(a,m.textSearch))}if(!1===r)return!1;var u,c=x(m.keySearch);try{for(c.s();!(u=c.n()).done;){var f=u.value,l=f.key,y=f.regex,s=e[l];if(!(t=t&&w(s,y)))return!1}}catch(e){c.e(e)}finally{c.f()}var h,v=x(m.keySearchNegate);try{for(v.s();!(h=v.n()).done;){var g=h.value,d=g.key,p=g.regex,b=e[d];if(!(t=t&&!w(b,p)))return!1}}catch(e){v.e(e)}finally{v.f()}return t}}},{key:"query",value:function(e){return this.jsonArray.filter(this.filterFunc(e))}}])&&i(e.prototype,r),n&&i(e,n),t}()}();